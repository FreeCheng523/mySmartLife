<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_411) on Fri Aug 29 16:42:30 CST 2025 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>CarOccupantConnectionManager</title>
<meta name="date" content="2025-08-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CarOccupantConnectionManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionError.html" title="android.car.occupantconnection中的注释"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?android/car/occupantconnection/CarOccupantConnectionManager.html" target="_top">框架</a></li>
<li><a href="CarOccupantConnectionManager.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">android.car.occupantconnection</div>
<h2 title="类 CarOccupantConnectionManager" class="title">类 CarOccupantConnectionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../android/car/CarManagerBase.html" title="android.car中的类">android.car.CarManagerBase</a></li>
<li>
<ul class="inheritance">
<li>android.car.occupantconnection.CarOccupantConnectionManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">CarOccupantConnectionManager</span>
extends <a href="../../../android/car/CarManagerBase.html" title="android.car中的类">CarManagerBase</a></pre>
<div class="block">API for communication between different endpoints in the occupant zones in the car.
 <p>
 Unless specified explicitly, a client means an app that uses this API and runs as a
 foreground user in an occupant zone, while a peer client means an app that has the same package
 name as the caller app and runs as another foreground user (in another occupant zone or even
 another Android system).
 An endpoint means a component (such as a Fragment or an Activity) that has an instance of
 <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html" title="android.car.occupantconnection中的类"><code>CarOccupantConnectionManager</code></a>.
 <p>
 Communication between apps with different package names is not supported.
 <p>
 A common use case of this API is like:
 <pre>
     ==========================================        =========================================
     =        client1 (occupantZone1)         =        =        client2 (occupantZone2)        =
     =                                        =        =                                       =
     =    ************     ************       =        =    ************      ************     =
     =    * sender1A *     * sender1B *       =        =    * sender2A *      * sender2B *     =
     =    ************     ************       =        =    ************      ************     =
     =                                        =        =                                       =
     =    ****************************        =        =    ****************************       =
     =    *     ReceiverService1     *        =        =    *     ReceiverService2     *       =
     =    ****************************        =        =    ****************************       =
     =                                        =        =                                       =
     =    **************    **************    =        =    **************   **************    =
     =    * receiver1A *    * receiver1B *    =        =    * receiver2A *   * receiver2B *    =
     =    **************    **************    =        =    **************   **************    =
     ==========================================        =========================================

                 ****** Payload *****
                 * ID: "receiver2A" *
                 * value: "123"     *
                 ********************                        Payload     |---> receiver2A
     sender1A -------------------------->ReceiverService2--------------->|
                                                                         |.... receiver2B
 </pre>
 <ul>
   <li> Client1 and client2 must have the same package name. Client1 runs in occupantZone1
        while client2 runs in occupantZone2. Sender1A (an endpoint in client1) wants to
        send a <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a> to receiver2A (an endpoint in client2).
   <li> Pre-connection:
     <ul>
       <li> The client app inherits <a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><code>AbstractReceiverService</code></a> and declares the service in
            its manifest file.
     </ul>
   <li> Establish connection:
     <ul>
       <li> Sender1A monitors occupantZone2 by calling <a href="../../../android/car/CarRemoteDeviceManager.html#registerStateCallback-java.util.concurrent.Executor-android.car.CarRemoteDeviceManager.StateCallback-"><code>CarRemoteDeviceManager.registerStateCallback(java.util.concurrent.Executor, android.car.CarRemoteDeviceManager.StateCallback)</code></a>.
       <li> Sender1A waits until the <a href="../../../android/car/CarRemoteDeviceManager.OccupantZoneState.html" title="android.car中的注释"><code>CarRemoteDeviceManager.OccupantZoneState</code></a> of occupantZone2 becomes
            <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_OCCUPANT_ZONE_CONNECTION_READY"><code>CarRemoteDeviceManager.FLAG_OCCUPANT_ZONE_CONNECTION_READY</code></a> and
            the <a href="../../../android/car/CarRemoteDeviceManager.AppState.html" title="android.car中的注释"><code>CarRemoteDeviceManager.AppState</code></a> of client2 becomes <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_CLIENT_INSTALLED"><code>CarRemoteDeviceManager.FLAG_CLIENT_INSTALLED</code></a>, then requests a connection
            to occupantZone2 by calling <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#requestConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.ConnectionRequestCallback-"><code>requestConnection(android.car.CarOccupantZoneManager.OccupantZoneInfo, java.util.concurrent.Executor, android.car.occupantconnection.CarOccupantConnectionManager.ConnectionRequestCallback)</code></a>. If UI is needed to establish
            the connection, sender1A must wait until <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_OCCUPANT_ZONE_SCREEN_UNLOCKED"><code>CarRemoteDeviceManager.FLAG_OCCUPANT_ZONE_SCREEN_UNLOCKED</code></a> and <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_CLIENT_IN_FOREGROUND"><code>CarRemoteDeviceManager.FLAG_CLIENT_IN_FOREGROUND</code></a>).
       <li> ReceiverService2 is started and bound by car service (<code>com.android.car.occupantconnection.CarOccupantConnectionService</code> automatically.
            ReceiverService2 is notified via <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#onConnectionInitiated-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>AbstractReceiverService.onConnectionInitiated(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>.
       <li> ReceiverService2 accepts the connection by calling <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#acceptConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>AbstractReceiverService.acceptConnection(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>.
       <li> Then the one-way connection is established. Sender1A is notified via <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html#onConnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>CarOccupantConnectionManager.ConnectionRequestCallback.onConnected(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>, and ReceiverService2 is notified via
            <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#onConnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>AbstractReceiverService.onConnected(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>.
     </ul>
   <li> Send Payload:
     <ul>
       <li> Sender1A sends a Payload to occupantZone2 by calling <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#sendPayload-android.car.CarOccupantZoneManager.OccupantZoneInfo-android.car.occupantconnection.Payload-"><code>sendPayload(android.car.CarOccupantZoneManager.OccupantZoneInfo, android.car.occupantconnection.Payload)</code></a>. To indicate
            that the Payload is sent to receiver2A, Sender1A puts receiver2A's ID ("receiver2A")
            into the Payload.
       <li> ReceiverService2 is notified for the Payload via <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#onPayloadReceived-android.car.CarOccupantZoneManager.OccupantZoneInfo-android.car.occupantconnection.Payload-"><code>AbstractReceiverService.onPayloadReceived(android.car.CarOccupantZoneManager.OccupantZoneInfo, android.car.occupantconnection.Payload)</code></a>.
            In this method, ReceiverService2 can forward the Payload to client2's receiver
            endpoints (if any), or cache the Payload and forward it later once a new receiver
            endpoint is registered.
     </ul>
   <li> Register receiver:
     <ul>
       <li> Receiver2A calls <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#registerReceiver-java.lang.String-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.PayloadCallback-"><code>registerReceiver(java.lang.String, java.util.concurrent.Executor, android.car.occupantconnection.CarOccupantConnectionManager.PayloadCallback)</code></a> with ID "receiver2A". Then
            ReceiverService2 is notified via <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#onReceiverRegistered-java.lang.String-"><code>AbstractReceiverService.onReceiverRegistered(java.lang.String)</code></a>.
            In that method, ReceiverService2 parses the Payload and finds that the Payload should
            be sent to the endpoint with ID "receiver2A", then invokes <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#forwardPayload-android.car.CarOccupantZoneManager.OccupantZoneInfo-java.lang.String-android.car.occupantconnection.Payload-"><code>AbstractReceiverService.forwardPayload(android.car.CarOccupantZoneManager.OccupantZoneInfo, java.lang.String, android.car.occupantconnection.Payload)</code></a> to forward the cached Payload to receiver2A.
            <p>
            Note: this step can be done before "Establish connection". In this case,
            ReceiverService2 will be started and bound by car service early.
            Once sender1A sends a Payload to occupantZone2, ReceiverService2 will be notified
            via <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#onReceiverRegistered-java.lang.String-"><code>AbstractReceiverService.onReceiverRegistered(java.lang.String)</code></a>. In that method,
            ReceiverService2 can forward the Payload to Receiver2A without caching.
       <li> Receiver2A is notified for the Payload via <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html#onPayloadReceived-android.car.CarOccupantZoneManager.OccupantZoneInfo-android.car.occupantconnection.Payload-"><code>CarOccupantConnectionManager.PayloadCallback.onPayloadReceived(android.car.CarOccupantZoneManager.OccupantZoneInfo, android.car.occupantconnection.Payload)</code></a>.
     </ul>
   <li> Terminate the connection:
   <ul>
     <li> Sender1A terminates the connection to occupantZone2:
          Once sender1A no longer needs to send Payload to occupantZone2, it terminates the
          connection by calling <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#disconnect-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>disconnect(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>. Then sender1A is notified via
          <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html#onDisconnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>CarOccupantConnectionManager.ConnectionRequestCallback.onDisconnected(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>, and ReceiverService2 is notified via
          <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#onDisconnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>AbstractReceiverService.onDisconnected(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>.
     <li> Unregister receiver2A:
          Once receiver2A no longer needs to receive Payload from any other occupant zones,
          it calls <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#unregisterReceiver-java.lang.String-"><code>unregisterReceiver(java.lang.String)</code></a>.
    <li> Unbound and destroy ReceiverService2:
         Since all the senders have disconnected from occupantZone2 and there is no receiver
         registered in occupantZone2, ReceiverService2 will be unbound and destroyed
         automatically.
   </ul>
   <li> Sender1A stops monitoring other occupant zones by calling <a href="../../../android/car/CarRemoteDeviceManager.html#unregisterStateCallback--"><code>CarRemoteDeviceManager.unregisterStateCallback()</code></a>. This step can
        be done before or after "Terminate the connection".
 </ul>
 <p>
 For a given <a href="../../../android/car/Car.html" title="android.car中的类"><code>Car</code></a> instance, the CarOccupantConnectionManager is a singleton.
 However, the client app may create multiple <a href="../../../android/car/Car.html" title="android.car中的类"><code>Car</code></a> instances thus create
 multiple CarOccupantConnectionManager instances. These CarOccupantConnectionManager instances
 are treated as the same instance for the client app. For example:
 <ul>
   <li> Sender1A creates a CarOccupantConnectionManager instance (managerA), while sender1B
        creates a different CarOccupantConnectionManager instance (managerB). Then sender1A uses
        managerA to request a connection to occupantZone2. Once connected, sender1B can use
        managerB to send Payload to occupantZone2 without requesting a new connection.
        To know whether it is connected to occupantZone2, sender1B can call <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#isConnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>isConnected(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>.
   <li> Besides, sender1B can terminate the connection by calling managerB#disconnect(), despite
        that the connection was requested by sender1A. Once the connection is terminated, sender1A
        will be notified via <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html#onDisconnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>CarOccupantConnectionManager.ConnectionRequestCallback.onDisconnected(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a>, and sender1B will
        not be notified since it didn't register register the <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.ConnectionRequestCallback</code></a>.
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionError.html" title="android.car.occupantconnection中的注释">CarOccupantConnectionManager.ConnectionError</a></span></code>
<div class="block">Flags for the error type of connection request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html" title="android.car.occupantconnection中的接口">CarOccupantConnectionManager.ConnectionRequestCallback</a></span></code>
<div class="block">A callback for lifecycle events of a connection request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口">CarOccupantConnectionManager.PayloadCallback</a></span></code>
<div class="block">A callback to receive a <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadTransferException.html" title="android.car.occupantconnection中的类">CarOccupantConnectionManager.PayloadTransferException</a></span></code>
<div class="block">An exception to indicate that it failed to send the <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_LONG_VERSION_NOT_MATCH">CONNECTION_ERROR_LONG_VERSION_NOT_MATCH</a></span></code>
<div class="block">The connection request failed because its long version code (<code>PackageInfo#getLongVersionCode</code>) didn't match the peer app's long version code.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_NONE">CONNECTION_ERROR_NONE</a></span></code>
<div class="block">The connection request has no error.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_NOT_READY">CONNECTION_ERROR_NOT_READY</a></span></code>
<div class="block">The connection request failed because the peer occupant zone was not ready for connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_PEER_APP_NOT_INSTALLED">CONNECTION_ERROR_PEER_APP_NOT_INSTALLED</a></span></code>
<div class="block">The connection request failed because the peer app was not installed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_PREDEFINED_MAXIMUM_VALUE">CONNECTION_ERROR_PREDEFINED_MAXIMUM_VALUE</a></span></code>
<div class="block">The maximum value of predefined connection error code.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_SIGNATURE_NOT_MATCH">CONNECTION_ERROR_SIGNATURE_NOT_MATCH</a></span></code>
<div class="block">The connection request failed because its signing info (<code>PackageInfo#signingInfo</code>
 didn't match the peer app's signing info.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_UNKNOWN">CONNECTION_ERROR_UNKNOWN</a></span></code>
<div class="block">The connection request failed because of an error of unidentified cause.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CONNECTION_ERROR_USER_REJECTED">CONNECTION_ERROR_USER_REJECTED</a></span></code>
<div class="block">The connection request failed because the user rejected it.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.android.car.CarManagerBase">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;android.car.<a href="../../../android/car/CarManagerBase.html" title="android.car中的类">CarManagerBase</a></h3>
<code><a href="../../../android/car/CarManagerBase.html#mCar">mCar</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#CarOccupantConnectionManager-android.car.Car-IBinder-">CarOccupantConnectionManager</a></span>(<a href="../../../android/car/Car.html" title="android.car中的类">Car</a>&nbsp;car,
                            IBinder&nbsp;service)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#cancelConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-">cancelConnection</a></span>(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone)</code>
<div class="block">Cancels the pending connection request to the peer client in <code>receiverZone</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#disconnect-android.car.CarOccupantZoneManager.OccupantZoneInfo-">disconnect</a></span>(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone)</code>
<div class="block">Disconnects from the peer client in <code>receiverZone</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#isConnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-">isConnected</a></span>(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone)</code>
<div class="block">Returns whether it is connected to its peer client in <code>receiverZone</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#onCarDisconnected--">onCarDisconnected</a></span>()</code>
<div class="block">Handle disconnection of car service (=crash).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#registerReceiver-java.lang.String-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.PayloadCallback-">registerReceiver</a></span>(java.lang.String&nbsp;receiverEndpointId,
                java.util.concurrent.Executor&nbsp;executor,
                <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口">CarOccupantConnectionManager.PayloadCallback</a>&nbsp;callback)</code>
<div class="block">Registers a <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.PayloadCallback</code></a> to receive <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#requestConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.ConnectionRequestCallback-">requestConnection</a></span>(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone,
                 java.util.concurrent.Executor&nbsp;executor,
                 <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html" title="android.car.occupantconnection中的接口">CarOccupantConnectionManager.ConnectionRequestCallback</a>&nbsp;callback)</code>
<div class="block">Sends a request to connect to the receiver client in <code>receiverZone</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#sendPayload-android.car.CarOccupantZoneManager.OccupantZoneInfo-android.car.occupantconnection.Payload-">sendPayload</a></span>(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone,
           <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类">Payload</a>&nbsp;payload)</code>
<div class="block">Sends the <code>payload</code> to the peer client in <code>receiverZone</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#unregisterReceiver-java.lang.String-">unregisterReceiver</a></span>(java.lang.String&nbsp;receiverEndpointId)</code>
<div class="block">Unregisters the existing <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.PayloadCallback</code></a> for <code>receiverEndpointId</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.car.CarManagerBase">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;android.car.<a href="../../../android/car/CarManagerBase.html" title="android.car中的类">CarManagerBase</a></h3>
<code><a href="../../../android/car/CarManagerBase.html#addDumpable-java.lang.Object-java.util.function.Supplier-">addDumpable</a>, <a href="../../../android/car/CarManagerBase.html#getContext--">getContext</a>, <a href="../../../android/car/CarManagerBase.html#getEventHandler--">getEventHandler</a>, <a href="../../../android/car/CarManagerBase.html#handleExceptionFromCarService-java.lang.Exception-T-">handleExceptionFromCarService</a>, <a href="../../../android/car/CarManagerBase.html#handleRemoteExceptionFromCarService-RemoteException-">handleRemoteExceptionFromCarService</a>, <a href="../../../android/car/CarManagerBase.html#handleRemoteExceptionFromCarService-RemoteException-T-">handleRemoteExceptionFromCarService</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="CONNECTION_ERROR_NONE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_NONE</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_NONE</pre>
<div class="block">The connection request has no error.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_NONE">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_UNKNOWN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_UNKNOWN</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_UNKNOWN</pre>
<div class="block">The connection request failed because of an error of unidentified cause.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_UNKNOWN">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_NOT_READY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_NOT_READY</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_NOT_READY</pre>
<div class="block">The connection request failed because the peer occupant zone was not ready for connection.
 To avoid this error, the caller endpoint should ensure that the state of the peer occupant
 zone is <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_OCCUPANT_ZONE_CONNECTION_READY"><code>CarRemoteDeviceManager.FLAG_OCCUPANT_ZONE_CONNECTION_READY</code></a> before
 requesting a connection to it.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_NOT_READY">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_PEER_APP_NOT_INSTALLED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_PEER_APP_NOT_INSTALLED</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_PEER_APP_NOT_INSTALLED</pre>
<div class="block">The connection request failed because the peer app was not installed. To avoid this error,
 the caller endpoint should ensure that the state of the peer app is <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_CLIENT_INSTALLED"><code>CarRemoteDeviceManager.FLAG_CLIENT_INSTALLED</code></a> before requesting a connection to
 it.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_PEER_APP_NOT_INSTALLED">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_LONG_VERSION_NOT_MATCH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_LONG_VERSION_NOT_MATCH</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_LONG_VERSION_NOT_MATCH</pre>
<div class="block">The connection request failed because its long version code (<code>PackageInfo#getLongVersionCode</code>) didn't match the peer app's long version code.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_LONG_VERSION_NOT_MATCH">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_SIGNATURE_NOT_MATCH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_SIGNATURE_NOT_MATCH</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_SIGNATURE_NOT_MATCH</pre>
<div class="block">The connection request failed because its signing info (<code>PackageInfo#signingInfo</code>
 didn't match the peer app's signing info.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_SIGNATURE_NOT_MATCH">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_USER_REJECTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ERROR_USER_REJECTED</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_USER_REJECTED</pre>
<div class="block">The connection request failed because the user rejected it.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_USER_REJECTED">常量字段值</a></dd>
</dl>
</li>
</ul>
<a name="CONNECTION_ERROR_PREDEFINED_MAXIMUM_VALUE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CONNECTION_ERROR_PREDEFINED_MAXIMUM_VALUE</h4>
<pre>public static final&nbsp;int CONNECTION_ERROR_PREDEFINED_MAXIMUM_VALUE</pre>
<div class="block">The maximum value of predefined connection error code. If the client app wants to pass a
 custom value in <a href="../../../android/car/occupantconnection/AbstractReceiverService.html#rejectConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-int-"><code>AbstractReceiverService.rejectConnection(android.car.CarOccupantZoneManager.OccupantZoneInfo, int)</code></a>, the custom value must be
 larger than this value, otherwise the sender client might get the wrong connection error code
 when its connection request fails.</div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../constant-values.html#android.car.occupantconnection.CarOccupantConnectionManager.CONNECTION_ERROR_PREDEFINED_MAXIMUM_VALUE">常量字段值</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="CarOccupantConnectionManager-android.car.Car-IBinder-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CarOccupantConnectionManager</h4>
<pre>public&nbsp;CarOccupantConnectionManager(<a href="../../../android/car/Car.html" title="android.car中的类">Car</a>&nbsp;car,
                                    IBinder&nbsp;service)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="onCarDisconnected--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCarDisconnected</h4>
<pre>public&nbsp;void&nbsp;onCarDisconnected()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code><a href="../../../android/car/CarManagerBase.html#onCarDisconnected--">CarManagerBase</a></code></span></div>
<div class="block">Handle disconnection of car service (=crash). As car service has crashed already, this call
 should only clean up any listeners / callbacks passed from client. Clearing object passed
 to car service is not necessary as car service has crashed. Note that Car*Manager will not
 work any more as all binders are invalid. Client should re-create all Car*Managers when
 car service is restarted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../android/car/CarManagerBase.html#onCarDisconnected--">onCarDisconnected</a></code>&nbsp;在类中&nbsp;<code><a href="../../../android/car/CarManagerBase.html" title="android.car中的类">CarManagerBase</a></code></dd>
</dl>
</li>
</ul>
<a name="registerReceiver-java.lang.String-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.PayloadCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerReceiver</h4>
<pre>public&nbsp;void&nbsp;registerReceiver(java.lang.String&nbsp;receiverEndpointId,
                             java.util.concurrent.Executor&nbsp;executor,
                             <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口">CarOccupantConnectionManager.PayloadCallback</a>&nbsp;callback)</pre>
<div class="block">Registers a <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.PayloadCallback</code></a> to receive <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a>. If the <a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><code>AbstractReceiverService</code></a> in the caller app was not started yet, it will be started and
 bound by car service automatically.
 <p>
 The caller endpoint must call <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#unregisterReceiver-java.lang.String-"><code>unregisterReceiver(java.lang.String)</code></a> before it is destroyed.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>receiverEndpointId</code> - the ID of this receiver endpoint. Since there might be multiple
                           receiver endpoints in the client app, the ID can be used by the
                           client app (<a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><code>AbstractReceiverService</code></a>) to decide which
                           endpoint(s) to dispatch the Payload to. The client app can use any
                           String as the ID, as long as it is unique among the client app.</dd>
<dd><code>executor</code> - the Executor to run the callback</dd>
<dd><code>callback</code> - the callback notified when this endpoint receives a Payload</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the <code>receiverEndpointId</code> had a <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.PayloadCallback</code></a>
                               registered</dd>
</dl>
</li>
</ul>
<a name="unregisterReceiver-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterReceiver</h4>
<pre>public&nbsp;void&nbsp;unregisterReceiver(java.lang.String&nbsp;receiverEndpointId)</pre>
<div class="block">Unregisters the existing <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.PayloadCallback</code></a> for <code>receiverEndpointId</code>.
 <p>
 This method can be called after calling <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#registerReceiver-java.lang.String-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.PayloadCallback-"><code>registerReceiver(java.lang.String, java.util.concurrent.Executor, android.car.occupantconnection.CarOccupantConnectionManager.PayloadCallback)</code></a> once the receiver
 endpoint no longer needs to receive Payload, or becomes inactive.
 This method must be called before the receiver endpoint is destroyed. Failing to call this
 method might cause the AbstractReceiverService to persist.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the <code>receiverEndpointId</code> had no <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.PayloadCallback</code></a> registered</dd>
</dl>
</li>
</ul>
<a name="requestConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.ConnectionRequestCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestConnection</h4>
<pre>public&nbsp;void&nbsp;requestConnection(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone,
                              java.util.concurrent.Executor&nbsp;executor,
                              <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html" title="android.car.occupantconnection中的接口">CarOccupantConnectionManager.ConnectionRequestCallback</a>&nbsp;callback)</pre>
<div class="block">Sends a request to connect to the receiver client in <code>receiverZone</code>. The <a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><code>AbstractReceiverService</code></a> in the receiver client will be started and bound automatically if it
 was not started yet.
 <p>
 This method should only be called when the state of the <code>receiverZone</code> contains
 <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_OCCUPANT_ZONE_CONNECTION_READY"><code>CarRemoteDeviceManager.FLAG_OCCUPANT_ZONE_CONNECTION_READY</code></a> (and
 <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_OCCUPANT_ZONE_SCREEN_UNLOCKED"><code>CarRemoteDeviceManager.FLAG_OCCUPANT_ZONE_SCREEN_UNLOCKED</code></a> and <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_CLIENT_IN_FOREGROUND"><code>CarRemoteDeviceManager.FLAG_CLIENT_IN_FOREGROUND</code></a> if UI is needed to
 establish the connection). Otherwise, errors may occur.
 <p>
 For security, it is highly recommended that the sender not request a connection to the
 receiver client if the state of the receiver client doesn't contain
 <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_CLIENT_SAME_LONG_VERSION"><code>CarRemoteDeviceManager.FLAG_CLIENT_SAME_LONG_VERSION</code></a> or
 <a href="../../../android/car/CarRemoteDeviceManager.html#FLAG_CLIENT_SAME_SIGNATURE"><code>CarRemoteDeviceManager.FLAG_CLIENT_SAME_SIGNATURE</code></a>. If the sender still
 wants to request the connection in the case above, it should call
 <a href="../../../android/car/CarRemoteDeviceManager.html#getEndpointPackageInfo-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>CarRemoteDeviceManager.getEndpointPackageInfo(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a> to get the receiver's
 <code>android.content.pm.PackageInfo</code> and check if it's valid before requesting the
 connection.
 <p>
 The caller may call <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#cancelConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>cancelConnection(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a> to cancel the request.
 <p>
 The connection is one-way. In other words, the receiver can't send <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a> to the
 sender. If the receiver wants to send <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a>, it must call this method to become
 a sender.
 <p>
 The caller must not request another connection to the same <code>receiverZone</code> if there
 is an established connection or pending connection (a connection request that has not been
 responded yet) to <code>receiverZone</code>.
 The caller must call <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#disconnect-android.car.CarOccupantZoneManager.OccupantZoneInfo-"><code>disconnect(android.car.CarOccupantZoneManager.OccupantZoneInfo)</code></a> before it is destroyed.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>receiverZone</code> - the occupant zone to connect to</dd>
<dd><code>executor</code> - the Executor to run the callback</dd>
<dd><code>callback</code> - the callback notified for the request result</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if there is an established connection or pending connection to
                               <code>receiverZone</code></dd>
</dl>
</li>
</ul>
<a name="cancelConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelConnection</h4>
<pre>public&nbsp;void&nbsp;cancelConnection(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone)</pre>
<div class="block">Cancels the pending connection request to the peer client in <code>receiverZone</code>.
 <p>
 The caller endpoint may call this method when it has requested a connection, but hasn't
 received any response for a long time, or the user wants to cancel the request explicitly.
 In other words, this method should be called after <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html#requestConnection-android.car.CarOccupantZoneManager.OccupantZoneInfo-java.util.concurrent.Executor-android.car.occupantconnection.CarOccupantConnectionManager.ConnectionRequestCallback-"><code>requestConnection(android.car.CarOccupantZoneManager.OccupantZoneInfo, java.util.concurrent.Executor, android.car.occupantconnection.CarOccupantConnectionManager.ConnectionRequestCallback)</code></a>, and before
 any events in the <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionRequestCallback.html" title="android.car.occupantconnection中的接口"><code>CarOccupantConnectionManager.ConnectionRequestCallback</code></a> is triggered.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if this <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.html" title="android.car.occupantconnection中的类"><code>CarOccupantConnectionManager</code></a> has no pending
                               connection request to <code>receiverZone</code></dd>
</dl>
</li>
</ul>
<a name="sendPayload-android.car.CarOccupantZoneManager.OccupantZoneInfo-android.car.occupantconnection.Payload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPayload</h4>
<pre>public&nbsp;void&nbsp;sendPayload(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone,
                        <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类">Payload</a>&nbsp;payload)
                 throws <a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadTransferException.html" title="android.car.occupantconnection中的类">CarOccupantConnectionManager.PayloadTransferException</a></pre>
<div class="block">Sends the <code>payload</code> to the peer client in <code>receiverZone</code>.
 <p>
 Different sender endpoints in the same client app are treated as the same sender. If the
 sender endpoints need to differentiate themselves, they can put the identity info into the
 payload.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if it was not connected to the peer client in
                                  <code>receiverZone</code></dd>
<dd><code><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.PayloadTransferException.html" title="android.car.occupantconnection中的类">CarOccupantConnectionManager.PayloadTransferException</a></code> - if the payload was not sent. For example, this method is
                                  called when the connection is not established or has been
                                  terminated, or an internal error occurred.</dd>
</dl>
</li>
</ul>
<a name="disconnect-android.car.CarOccupantZoneManager.OccupantZoneInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone)</pre>
<div class="block">Disconnects from the peer client in <code>receiverZone</code>.
 <p>
 This method can be called as soon as the caller app no longer needs to send <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a>
 to <code>receiverZone</code>. If there are multiple sender endpoints in the client app reuse the
 same connection, this method should be called when all sender endpoints no longer need to
 send Payload to <code>receiverZone</code>.
 <p>
 This method must be called before the caller is destroyed. Failing to call this method might
 cause the <a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><code>AbstractReceiverService</code></a> in the peer client to persist.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if it was not connected to the peer client in
                               <code>receiverZone</code></dd>
</dl>
</li>
</ul>
<a name="isConnected-android.car.CarOccupantZoneManager.OccupantZoneInfo-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected(<a href="../../../android/car/CarOccupantZoneManager.OccupantZoneInfo.html" title="android.car中的类">CarOccupantZoneManager.OccupantZoneInfo</a>&nbsp;receiverZone)</pre>
<div class="block">Returns whether it is connected to its peer client in <code>receiverZone</code>. When it is
 connected, it can send <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a> to the peer client.
 <p>
 Note: the connection is one-way. The peer client can not send <a href="../../../android/car/occupantconnection/Payload.html" title="android.car.occupantconnection中的类"><code>Payload</code></a> to this client
 unless the peer client is also connected to this client.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../android/car/occupantconnection/AbstractReceiverService.html" title="android.car.occupantconnection中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../android/car/occupantconnection/CarOccupantConnectionManager.ConnectionError.html" title="android.car.occupantconnection中的注释"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?android/car/occupantconnection/CarOccupantConnectionManager.html" target="_top">框架</a></li>
<li><a href="CarOccupantConnectionManager.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
